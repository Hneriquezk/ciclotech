<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ciclotech</title>
    <link rel="stylesheet" href="../css/pageprodutos.css">
</head>

<body>
    <header>
        <div class="lado-esquerdo">
            <a href="../html/login.php">LOGIN</a>
            <a href="../html/contato.html">CONTATO</a>
            <a href="../html/home.php">HOME</a>
        </div>

        <div class="logo">
            <img src="../img/logo.png" alt="Ciclotech">
        </div>

        <div class="carrinho">
            <img src="../img/carrinho.png" alt="Carrinho">
        </div>
    </header>
    <br>
    <nav>
        <a href="#">Bicicletas/Quadros</a>
        <span>|</span>
        <a href="#">Capacetes</a>
        <span>|</span>
        <a href="#">Rodas</a>
        <span>|</span>
        <a href="#">Pneus/Câmaras</a>
        <span>|</span>
        <a href="#">Óculos</a>
        <span>|</span>
        <a href="#">Luvas</a>
        <span>|</span>
        <a href="#">Vestuário</a>
        <span>|</span>
        <a href="#">Kit Limpeza</a>
    </nav>
    <br><br>
    <!-- ================= CARRINHO LATERAL ================= -->
    <div id="carrinho-lateral" class="carrinho-lateral">
        <div class="carrinho-header">
            <h2 style="color: white;">Carrinho</h2>
            <button id="fechar-carrinho">&times;</button>
        </div>
        <div id="carrinho-itens" class="carrinho-itens">
            <p>Seu carrinho está vazio</p>
        </div>
        <div class="carrinho-footer">
            <div class="total">Total: <span id="carrinho-total">R$0,00</span></div>
            <button id="finalizar-compra">Finalizar Compra</button>
        </div>
    </div>

    <div class="container-2">

        <div class="imagem-produto">
            <img src="../img/kit Sram 2.jpg" alt="Kit Sram Sport">
        </div>

        <div class="detalhes-produto">
            <h1>KIT SRAM SPORT</h1>
            <div class="avaliacao">
                <span class="estrela" data-valor="1">&#9733;</span>
                <span class="estrela" data-valor="2">&#9733;</span>
                <span class="estrela" data-valor="3">&#9733;</span>
                <span class="estrela" data-valor="4">&#9733;</span>
                <span class="estrela" data-valor="5">&#9733;</span>
                <span class="texto-avaliacoes">1.758 avaliações</span>
            </div>
            <p style="color: white;">Compre 1 Pedivela Sram GX alumínio + Cassete Sram GX 10-52, você ganha de presente
                1 Corrente Sram
                Original PC GX Eagle 12V 126 Elos Cinza</p>
            <br>
            <p class="preco-antigo">R$3.049,80</p>
            <p class="preco">R$2.658,10</p>
            <p class="pix">No PIX já com 5% de desconto</p>
            <p class="parcelamento">Em até 12x de R$233,17 sem juros no cartão</p>

            <div class="item">
                <img src="../img/pedivela_sram.png" alt="Pedivela">
                <span>Pedivela Sram Original GX Eagle DUB Preto Lunar de 175mm<br><b>R$899,90</b></span>
            </div>

            <div class="item">
                <img src="../img/cassete_sram.jpg" alt="Cassete">
                <span>Cassete Sram Original GX-1275 Eagle 10-52 12V Preto<br><b>R$2.149,90</b></span>
            </div>
            <div class="item">
                <img src="../img/corrente_sram.jpg" alt="Corrente">
                <span>Corrente Sram Original PC-GX Eagle 12V<br><b>R$0,00</b></span>
            </div>
            <br><br>
            <button class="botao-comprar2">Adicionar ao Carrinho</button><br><br>
        </div>
    </div>
    <br>
    <center>
        <h1 style="color: white; ">DESCRIÇÃO</h1>
    </center>
    <br><br>
    <div class="tabs">
        <button class="tab-link active" data-tab="pedivela">Conheça a Pedivela Sram GX Alumínio</button>
        <button class="tab-link" data-tab="cassete">Conheça o Cassete Sram GX 10-52</button>
        <button class="tab-link" data-tab="corrente">Conheça a Corrente Sram GX</button>
    </div>

    <!-- Conteúdo: Pedivela -->
    <div id="pedivela" class="tab-content active">
        <h2>Pedivela Sram GX Eagle Boost 148 DUB 12v Preto Lunar</h2>

        <h3>ESPECIFICAÇÕES:</h3>
        <p>
            Braço 175mm, eixo DUB, compatível com movimentos centrais DUB, 11/12v, coroa alumínio, BCD Direct Mount.
        </p>

        <h3>TECNOLOGIAS:</h3>
        <p>
            <b>DUB</b>: rigidez + durabilidade com melhor integração.<br>
            <b>X-SYNC 2</b>: dentes agressivos que seguram melhor a corrente.<br>
            <b>EAGLE</b>: leve, simples e durável com 500% de alcance.<br>
            <b>BOOST</b>: mais espaço para pneus largos e quadro rígido.
        </p>

        <h3>CARACTERÍSTICAS:</h3>
        <p>
            O melhor pedivela de alumínio da SRAM, resistente, confiável e ideal para quem exige desempenho consistente
            em todas as pedaladas.
        </p>
    </div>

    <!-- Conteúdo: Cassete -->
    <div id="cassete" class="tab-content">
        <h2>Cassete Sram Gx-1275 Eagle 10-52 12v Preto</h2>

        <h3>ESPECIFICAÇÕES:</h3>
        <p>
            12v, alcance 10-52t, acabamento preto, escalonamento progressivo.
        </p>

        <h3>TECNOLOGIAS:</h3>
        <p>
            <b>XD</b>: permite cog 10t.<br>
            <b>FULL PIN</b>: cogs leves e duráveis unidos por pinos de aço.<br>
            <b>EAGLE</b>: alcance de 500% e durabilidade.
        </p>

        <h3>CARACTERÍSTICAS:</h3>
        <p>
            Marchas 1x amplas (520%), design aberto que evita acúmulo de lama. Ideal para diversas montagens.<br>
            <b>Obs:</b> use torquímetro na instalação.
        </p>
    </div>

    <div id="corrente" class="tab-content">
        <h2>Corrente Sram Pc-gx Eagle 126 Elos Prata</h2>

        <h3>ESPECIFICAÇÕES:</h3>
        <p>
            12v, 126 elos, PowerLock, acabamento níquel/prata, peso 244g.
        </p>

        <h3>TECNOLOGIAS:</h3>
        <p>
            <b>POWERLOCK</b>: fechamento seguro sem ferramentas.<br>
            <b>EAGLE</b>: durável e leve com 500% de alcance.<br>
            <b>FLOWLINK</b>: menos ruído e desgaste.
        </p>

        <h3>CARACTERÍSTICAS:</h3>
        <p>
            Construção robusta, trocas suaves e confiáveis para uso intenso.
        </p>
    </div>
    <br>
    <center>
        <h1 style="color: white; ">RELACIONADOS</h1>
    </center>
    <br>
    <hr><br><br>
    <div class="container">
        <div class="card">
            <a href="kitmagura.html" style="text-decoration: none;">
                <img src="../img/Kit Magura.png" alt="KIT MAGURA">
                <h2>KIT MAGURA</h2>
                <div class="avista">À Vista</div>
                <div class="preco-atual">R$4.463,10</div>
                <div class="desconto">No Pix já com 5% de desconto</div>
                <hr><br>
                <div class="parcelas">R$4.698,00 ou 12X de <span>R$391,50</span> sem juros</div>
                <br>
                <button class="botao-comprar">COMPRAR</button>
            </a>
        </div>

        <div class="card">
            <a href="kitcompreeganhe.html" style="text-decoration: none;">
                <img src="../img/Kit Compre e Ganhe.png" alt="KIT COMPRE E GANHE">
                <h2>KIT COMPRE E GANHE</h2>
                <div class="avista">À Vista</div>
                <div class="preco-atual">R$369,53</div>
                <div class="desconto">No Pix já com 2.5% de desconto</div>
                <hr><br>
                <div class="parcelas">R$379,00 ou 12X de <span>R$31,58</span> sem juros</div>
                <br>
                <button class="botao-comprar">COMPRAR</button>
            </a>
        </div>

        <div class="card">
            <a href="kitupgrade.html" style="text-decoration: none;">
                <img src="../img/kit de upgrade sram.png" alt="KIT de Upgrade Sram Original GX Eagle AXS">
                <h2>KIT de Upgrade Sram Original GX Eagle AXS</h2>
                <div class="avista">À Vista</div>
                <div class="preco-atual">R$4.939,05</div>
                <div class="desconto">No Pix já com 5% de desconto</div>
                <hr><br>
                <div class="parcelas">R$5.199,00 ou 12X de <span>R$433,25</span> sem juros</div>
                <br>
                <button class="botao-comprar">COMPRAR</button>
            </a>
        </div>
    </div>
    <footer>
        <div class="footer-top">
            <span>Entregamos para o Brasil inteiro</span>
            <span>Desconto no pix: 10%</span>
            <span>SITE 100% SEGURO</span>
        </div>
        <div class="footer-main">
            <div class="footer-logo">
                <img src="../img/logo.png" alt="Ciclotech">
                <p class="text">A loja mais especializada em itens de ciclismo geral no Brasil.</p>
            </div>
            <div class="footer-section">
                <h3 class="text">Informações</h3>
                <ul>
                    <li><a href="index.html">Cilcotech</a></li>
                    <li><a href="#">Política De Privacidade</a></li>
                    <li><a href="#">Trocas e Devoluções</a></li>
                </ul>
            </div>
            <div class="footer-section footer-contact">
                <h3 class="text">Atendimento</h3>
                <p class="text">Segunda a Sexta<br>10:00 ás 16:00</p>
                <br>
                <h3 class="text">Contato</h3>
                <p class="text">(12)1234-5678</p>
                <p class="text">(12)1234-5678</p>
                <h3 class="text">Redes Sociais</h3>
                <div class="footer-social">
                    <img src="../img/instagram.png" alt="Instagram">
                    <img src="../img/facebook.png" alt="Facebook">
                </div>
            </div>
            <div class="footer-section footer-payment">
                <h3 class="text">Formas de Pagamento</h3>
                <div>
                    <img src="../img/visa.jpg" alt="Visa">
                    <img src="../img/mastercard.png" alt="Mastercard">
                    <img src="../img/hipercard.png" alt="Hipercard">
                    <img src="../img/elo.png" alt="Elo">
                    <img src="../img/boleto.png" alt="Boleto">
                    <img src="../img/pix.png" alt="Pix">
                    <img src="../img/paypal.png" alt="Paypal">
                </div>
            </div>
        </div>
    </footer>
    <script>
        // ==== CARRINHO GLOBAL COM LOCALSTORAGE ====
        const carrinho = document.getElementById("carrinho-lateral");
        const fecharCarrinho = document.getElementById("fechar-carrinho");
        const carrinhoItens = document.getElementById("carrinho-itens");
        const carrinhoTotal = document.getElementById("carrinho-total");

        // Abre/fecha carrinho
        document.querySelector(".carrinho img").addEventListener("click", () => {
            carrinho.classList.add("ativo");
            renderCarrinho();
        });
        fecharCarrinho.addEventListener("click", () => carrinho.classList.remove("ativo"));

        // Recupera carrinho do localStorage
        function getCarrinho() {
            return JSON.parse(localStorage.getItem("carrinho")) || [];
        }
        function salvarCarrinho(itens) {
            localStorage.setItem("carrinho", JSON.stringify(itens));
        }

        // Renderiza os itens no carrinho
        function renderCarrinho() {
            const itens = getCarrinho();
            carrinhoItens.innerHTML = "";

            if (itens.length === 0) {
                carrinhoItens.innerHTML = "<p>Seu carrinho está vazio</p>";
                carrinhoTotal.innerText = "R$0,00";
                return;
            }

            let total = 0;
            itens.forEach((item, index) => {
                total += item.preco * item.quantidade;
                const div = document.createElement("div");
                div.classList.add("item-carrinho");
                div.innerHTML = `
      <img src="${item.img}" alt="${item.nome}">
      <div class="item-info">
        <h4>${item.nome}</h4>
        <p>R$${item.preco.toFixed(2)}</p>
        <div class="quantidade">
          <button onclick="alterarQtd(${index}, -1)">-</button>
          <span>${item.quantidade}</span>
          <button onclick="alterarQtd(${index}, 1)">+</button>
        </div>
        <span class="remover" onclick="removerItem(${index})">Remover</span>
      </div>
    `;
                carrinhoItens.appendChild(div);
            });

            carrinhoTotal.innerText = `R$${total.toFixed(2)}`;
        }

        // Adiciona item ao carrinho
        function adicionarAoCarrinho(nome, preco, img) {
            let itens = getCarrinho();
            const existe = itens.find(i => i.nome === nome);

            if (existe) {
                existe.quantidade++;
            } else {
                itens.push({ nome, preco, img, quantidade: 1 });
            }

            salvarCarrinho(itens);
            renderCarrinho();
            carrinho.classList.add("ativo");
        }

        // Alterar quantidade
        function alterarQtd(index, delta) {
            let itens = getCarrinho();
            itens[index].quantidade += delta;
            if (itens[index].quantidade <= 0) itens.splice(index, 1);
            salvarCarrinho(itens);
            renderCarrinho();
        }

        // Remover item
        function removerItem(index) {
            let itens = getCarrinho();
            itens.splice(index, 1);
            salvarCarrinho(itens);
            renderCarrinho();
        }

        document.getElementById("finalizar-compra").addEventListener("click", () => {
            const itens = getCarrinho();
            if (itens.length === 0) {
                alert("Seu carrinho está vazio!");
                return;
            }

            const total = itens.reduce((acc, item) => acc + item.preco * item.quantidade, 0);
            localStorage.setItem("totalCompra", total.toFixed(2));

            window.location.href = "../html/pagamento.html";
        });

        // Botão "Adicionar ao carrinho" desta página
        document.querySelector(".botao-comprar2").addEventListener("click", () => {
            const nome = document.querySelector(".detalhes-produto h1").innerText;
            const preco = parseFloat(document.querySelector(".detalhes-produto .preco")
                .innerText.replace("R$", "").replace(".", "").replace(",", "."));
            const img = document.querySelector(".imagem-produto img").getAttribute("src");

            adicionarAoCarrinho(nome, preco, img);
        });

        // Renderiza carrinho ao carregar página
        renderCarrinho();

        const tabLinks = document.querySelectorAll(".tab-link");
        const tabContents = document.querySelectorAll(".tab-content");

        tabLinks.forEach(link => {
            link.addEventListener("click", () => {
                tabLinks.forEach(btn => btn.classList.remove("active"));
                tabContents.forEach(content => content.classList.remove("active"));

                link.classList.add("active");
                document.getElementById(link.dataset.tab).classList.add("active");
            });
        });
        const estrelas = document.querySelectorAll('.estrela');

        estrelas.forEach((estrela, index) => {
            estrela.addEventListener('click', () => {

                estrelas.forEach(e => e.classList.remove('ativa'));

                for (let i = 0; i <= index; i++) {
                    estrelas[i].classList.add('ativa');
                }
            });
        });
    </script>
</body>

</html>